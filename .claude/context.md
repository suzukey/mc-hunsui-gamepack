# プロジェクトコンテキスト

## ゲームコンセプト

このデータパックは、Minecraft 内でトランプゲームを実装するプロジェクトです。プレイヤーは Minecraft の世界でカードゲームを楽しむことができます。

## 技術的背景

### Minecraft バージョン

- **対象バージョン**: 1.21.6（pack_format: 80）
- **使用機能**: スコアボード、カスタムアイテム、predicate、advancement

### ゲームシステムの基盤

- カードの表現: カスタムアイテム（CustomModelData 使用）
- ゲーム状態管理: スコアボードシステム
- プレイヤー検出: エンティティタグと predicate

## ゲームデザイン

### 仕様

トランプ 54 枚全て使う
基本ルールは大富豪と同じ

#### 追加ルール

トランプを山札として人数分、均等に分ける
手札 3 枚からスタート (最初の 1 度だけ交換可)
自分の出したカードで場が流れたら自分の山札から 2 枚引く
他のプレイヤーは 1 枚引く

#### 勝利条件

自分の山札・手札を含めてすべてのカードを使い切る

#### ローカルルール

- 革命: 同じ数字を 4 枚出すことで革命が起こり、ジョーカー以外の数字の強さが逆転する（同じ数字 3 枚とジョーカーでも革命になる）
- 階段: 同じマークで数字が連続している 3 枚以上のカードをまとめて出せる（階段で 4 枚以上出すことを“階段革命”と言い、革命状態になる）
- スぺ 3 返し: ジョーカー 1 枚に対して、スペードの 3 を出すことができる（場が流れる）
- 禁止上がり: 特定のカードで上がってはいけない（2, 8, joker）
- マークしばり: 同じマークのカードが連続で場に出ると、場が流れるまでそのマークしか出せなくなる
- 7 渡し: 7 を出した枚数分だけ、次のプレイヤーに手札のいらないカードを渡せる
- 8 切り: 8 を出すと強制的に場が流れる、出した枚数分カードを引く
- 10 捨て: 10 を出した枚数だけ、手札からいらないカードを捨てられる
- 11 バック: 11 を場に出すと、場が流れるまで革命状態になる
- 12 ボンバー: 好きな数字を宣言して、その数字を持っているプレイヤー（自分を含む）にそのカードを捨てさせる

### プレイヤー要件

- 最小プレイヤー数: 2 人
- 最大プレイヤー数: 8 人

### 技術的制約

- コマンドの実行頻度によるパフォーマンスへの配慮
- アイテムエンティティの数の管理（ラグ防止）
- スコアボードの表示制限

## 開発の焦点

1. **直感的な UI**: Minecraft の標準的なインターフェースを活用
2. **公平性**: ランダム性と戦略性のバランス
3. **拡張性**: 新しいゲームルールやカードの追加が容易
